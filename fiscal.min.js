/* Fiscal by Mark Herhold - MIT Licensed */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Fiscal=t()}}((function(){return function t(e,r,i){function n(s,u){if(!r[s]){if(!e[s]){var o="function"==typeof require&&require;if(!u&&o)return o(s,!0);if(a)return a(s,!0);var f=new Error("Cannot find module '"+s+"'");throw f.code="MODULE_NOT_FOUND",f}var l=r[s]={exports:{}};e[s][0].call(l.exports,(function(t){return n(e[s][1][t]||t)}),l,l.exports,t,e,r,i)}return r[s].exports}for(var a="function"==typeof require&&require,s=0;s<i.length;s++)n(i[s]);return n}({1:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Fiscal=void 0;const i=t("./lib/Quarter"),n=t("./lib/FiscalYear");r.Fiscal=class{fiscalMonth;constructor(t){this.fiscalMonth=t}getFiscalInfoForDate(t){const e=(t=t||new Date).getFullYear()+(r=this.fiscalMonth,a=t.getMonth(),0===r?0:a>=r?1:0);var r,a;const s=new n.FiscalYear(e,this.fiscalMonth);return{fiscalYear:s,quarter:new i.Quarter(s,t.getMonth()),calendar:{calendarMonth:t.getMonth(),calendarYear:t.getFullYear()}}}}},{"./lib/FiscalYear":2,"./lib/Quarter":3}],2:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.FiscalYear=void 0;class i{fiscalYear;fiscalMonth;constructor(t,e){this.fiscalYear=t,this.fiscalMonth=e}get startDate(){return 0===this.fiscalMonth?new Date(this.fiscalYear,this.fiscalMonth):new Date(this.fiscalYear-1,this.fiscalMonth)}get endDate(){return 0===this.fiscalMonth?new Date(this.fiscalYear+1,this.fiscalMonth,0,23,59,59,999):new Date(this.fiscalYear,this.fiscalMonth,0,23,59,59,999)}previous(){return new i(this.fiscalYear-1,this.fiscalMonth)}next(){return new i(this.fiscalYear+1,this.fiscalMonth)}}r.FiscalYear=i},{}],3:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Quarter=void 0;class i{fy;_month;_quarterMap;constructor(t,e){this.fy=t,this._month=e,this._quarterMap=function(t){const e={};for(let r=t;r<t+12;r++){e[r%12]=r<t+3?{quarterNumber:1,quarterString:"Q1"}:r<t+6?{quarterNumber:2,quarterString:"Q2"}:r<t+9?{quarterNumber:3,quarterString:"Q3"}:{quarterNumber:4,quarterString:"Q4"}}return e}(this.fy.fiscalMonth)}get quarterNumber(){return this._quarterMap[this._month].quarterNumber}get quarterString(){return this._quarterMap[this._month].quarterString}get startDate(){return new Date(this.fy.startDate.getFullYear(),this.fy.fiscalMonth+3*(this.quarterNumber-1))}get endDate(){return new Date(this.fy.startDate.getFullYear(),this.fy.fiscalMonth+3*this.quarterNumber,0,23,59,59,999)}previous(){let t=this.fy,e=this._month;return 1===this.quarterNumber&&(t=this.fy.previous()),e<=2?e=e-3+12:e-=3,new i(t,e)}next(){let t=this.fy,e=this._month;return 4===this.quarterNumber&&(t=this.fy.next()),e>=9?e=e+3-12:e+=3,new i(t,e)}}r.Quarter=i},{}]},{},[1])(1)}));